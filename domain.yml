version: "2.0"

intents:
  - greeting
  - goodbye
  - affirm
  - info
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - name
  - date
  - time
  - query_menu
  - daily_special
  - query_drinks
  - allergens
  - request_reservation
  - cancel_reservation
  - enter_reservation_code
  - people
  - reservation_available
  - request_delivery
  - adress
  - order
  - end_of_order
  - confirm_order

actions:
  - action_send_menuPDF
  - action_send_drinkmenuPDF
  - action_send_allergenemenuPDF
  - action_check_availability
  - action_make_reservation
  - action_check_adress
  - action_add_to_order
  - action_repeat_order
  - action_complete_order
  - action_cancel_reservation


entities:
  - name
  - date
  - time
  - mealnumber
  - adress
  - persons

slots:
  date:
    type: datepicker
    initial_date: '2021-12-11'
    mapping:     
    - type: from_entity
    entity: date
  time:
    type: text
    initial_value: None
    mapping:     
      - type: from_entity
        entity: time
  persons:
      type: float
      entity: persons
      min_value: 1
      max_value: 10
      initial_value: 1
      mapping:     
        - type: from_entity
          entity: persons

forms:
  reservation_form:
    date:
      type: datepicker
    time:
      type: text
    persons:
      type: float
      min_value: 1
      max_value: 10

# Hier werden Textpassagen des Bots definiert, wenn keine weitere Action notwendig ist:
responses:
  utter_info:
    - text: "Would you like to see the menu?\nThen just ask 'What's the menu?'\n\nWould you like to know the daily special?\nThen just ask 'What's the dish of the day?'\n\nWould you like to reserve a table?\nThen just say 'I would like to make a reservation'.\n\nWould you like to cancel you reservation?\nThen just say 'I would like to cancel my reservation'.\n\nWould you like to order smth for delivery?\nThen just ask 'Do you deliver?'\n\nSo, how can I help you?"

  utter_greet:
    - text: "Hey! How are you?"

  utter_happy:
    - text: "Great, carry on!\n How can I help you?"

  utter_goodbye:
    - text: "GoodBye! Hope To See You Soon !\nJust Type 'hey' or 'hi' anytime to redirect to the Intro Section of The Bot :))"

  utter_iamabot:
    - text: "I am a restaurant customer-service bot, developed by Fabius and Felix."

  utter_query_date:
  - custom:
      blocks:
      - type: section
        text:
          text: "For which date would you like to make a reservation?"
          type: mrkdwn
        accessory:
          type: datepicker
          initial_date: '2021-12-08'
          placeholder:
            type: plain_text
            text: Select a date
   
  utter_query_reservation_time:
    - text: "For which time would you like to reserve a table?"

  utter_query_people:
    - text: "For how many people would you like to reserve a table?"
  
  utter_query_reservation_code:
    - text: "Could you tell me your reservation code, please?"

  utter_query_adress:
    - text: "Where should we deliver the food?"

  utter_query_delivery_time:
    - text: "At which time would you like to receive your food?"

  utter_request_order:
    - text: "What would you like to order?"

  utter_adress_unavailable:
    - text: "Sorry, this adress is out of our delivery range"
    
  utter_sendMenu:
     - text: "Have a look into our menu!"
     - image: "https://d1csarkz8obe9u.cloudfront.net/posterpreviews/restaurant-menu-one-page-flyer-template-86ac26aca2d0e91979f172c5acd7cd5e_screen.jpg"
      
  utter_senddrinkmenu:
      - text: "Have a look into our drinks menu!"
      - image: "https://img.yumpu.com/4959633/1/500x640/getrankekarte-convikt-stadthotel-amp-restaurant.jpg"

  utter_submit:
    - text: "Ok. Thanks!"

  utter_slots_values:
    - text: "I will book a table on {date} for {persons} people at {time}"
      
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
